<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Sat Jan 27 2018 15:22:57 GMT+0000 (UTC)  -->
<html data-wf-page="5a32ecff8f8c9600013fe05c" data-wf-site="5a0eebeaf4d5130001133201">
<head>
  <meta charset="utf-8">
  <title>Protein Analyzer</title>
  <meta content="analyzer" property="og:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="plugins/Multi-Select-Dropdown-Tree/dropdowntree.css" rel="stylesheet" type="text/css">
  <link href="plugins/fontawesome/web-fonts-with-css/css/fontawesome-all.css" rel="stylesheet" type="text/css"
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/sequence-design-2e9341f5110c351039ef4fd.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Ubuntu:300,300italic,400,400italic,500,500italic,700,700italic", "Droid Sans:400,700", "Oswald:200,300,400,500,600,700", "Changa One:400,400italic"]
        }
      });
    </script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">
      ! function(o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
  <link href="images/Viper.ICO" rel="shortcut icon" type="image/x-icon">
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png" rel="apple-touch-icon">
  <script type="text/javascript" src="plugins/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="plugins/popper.js"></script>
  <script type="text/javascript" src="plugins/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="plugins/Multi-Select-Dropdown-Tree/dropdowntree.js"></script>
  <script type="text/javascript" src="../node_modules/babylonjs/babylon.js"></script>
  <script type="text/javascript" src="plugins/ChartJS/Chart.bundle.min.js"></script>
  
  <script type="text/javascript" src="js/bioasa.js"></script>
  <script type="text/javascript" src="js/bioatom.js"></script>
  <script type="text/javascript" src="js/biobuilder.js"></script>
  <script type="text/javascript" src="js/biochain.js"></script>
  <script type="text/javascript" src="js/biocharts.js"></script>
  <script type="text/javascript" src="js/bioelement.js"></script>
  <script type="text/javascript" src="js/bioerrors.js"></script>
  <script type="text/javascript" src="js/bioff.js"></script>
  <script type="text/javascript" src="js/biogroup.js"></script>
  <script type="text/javascript" src="js/biomotif.js"></script>
  <script type="text/javascript" src="js/biopdbloader.js"></script>
  <script type="text/javascript" src="js/biosearch3d.js"></script>
  <script type="text/javascript" src="js/bioselector.js"></script>
  <script type="text/javascript" src="js/biostructure.js"></script>
  <script type="text/javascript" src="js/biotables.js"></script>
  <script type="text/javascript" src="js/bioutils.js"></script>
  <script type="text/javascript" src="js/bioviewer.js"></script>

  <script type="text/javascript" src="js/domutils.js"></script>
  <script type="text/javascript" src="js/geometry.js"></script>
  <script type="text/javascript" src="js/pdbutils.js"></script>

  <script type="text/javascript" src="js/phoenixanalysis.js"></script>
  <script type="text/javascript" src="js/phoenixsequence.js"></script>

  <script type="text/javascript" src="js/Util.js"></script>

  <script src="https://code.jquery.com/pep/0.4.1/pep.js"></script>
  <script type="text/javascript">
      window.onload = function() {
        var anchors = document.getElementsByTagName('*');
        for (var i = 0; i < anchors.length; i++) {
          var anchor = anchors[i];
          anchor.onclick = function() {
            code = this.getAttribute('whenclicked');
            eval(code);
          }
        }
      }
      
      var my_viewer;
      var my_structure;
      var my_selector;
      var my_selector_element;
      
      function onUpload(file) 
      {
          filename = file.name;
          console.log("Reading the file: "+filename);
          // Read a PDB file and breaks it into lines;
          // It builds a structure that is accessible via
          // the callback method
          var my_reader = ReadPDBfile(file,StructureReady);
      }
      
    function rcsbUpload(inputfield)
    {
    	  var code = inputfield.value;
    	  var request_url = RCSBUrl(code);
    	  var my_reader = new PDBurlReader(request_url,StructureReady);
    }
      
  	//THIS IS MY CALLBACK OF ASYNC FILE READER
    function StructureReady(structure)
    {
    	element1 = document.getElementById("viewer");
    	element2 = my_selector_element;
    	my_structure = structure;
    	displayMolecule(my_structure,element1);
    	displaySelector(my_structure,element2);
    }
    
	function displayMolecule(structure,element)
    {
		var height = 650;
    var width = 650;
    if(my_viewer) {
      my_viewer.destroy();
    }
    my_viewer = new BioViewer(structure,'Mol');
    while (element.firstChild) {
      element.removeChild(element.firstChild);
    }
    my_viewer.appendToDOM(element, height, width);
  }
	
	function ShowBfactor(elementID)
	{
		var element = document.getElementById(elementID);
		element.style.display = "block";
		var height = 350;
		var width = 900;
		var my_charter = new BioCharter(my_structure,window,document,element,height,width);
		//myviewer.createRamachandran(structure.groups);
		var targets = my_viewer.getSelectedGroups();
		if(targets.length == 0)
		{
			my_charter.createBfactorChart(my_structure.groups);
		}
		else
		{
			my_charter.createBfactorChart(targets);
		}
	}
	
	function ShowContacts(elementID)
	{
		var element = document.getElementById(elementID);
		element.style.display = "block";
		var height = 350;
		var width = 900;
		var my_charter = new BioCharter(my_structure,window,document,element,height,width);
		//myviewer.createRamachandran(structure.groups);
		var targets = my_viewer.getSelectedGroups();
		if(targets.length == 0)
		{
			my_charter.createContactsChart(my_structure.groups);
		}
		else
		{
			my_charter.createContactsChart(targets);
		}
	}
	
	function ShowExposure(elementID)
	{
		var element = document.getElementById(elementID);
		element.style.display = "block";
		var height = 350;
		var width = 900;
		var my_charter = new BioCharter(my_structure,window,document,element,height,width);
		//myviewer.createRamachandran(structure.groups);
		var targets = my_viewer.getSelectedGroups();
		if(targets.length == 0)
		{
			my_charter.createExposureChart(my_structure.groups);
		}
		else
		{
			my_charter.createExposureChart(targets);
		}
	}
	
	function ShowStructuralWarnings(elementID)
	{
		my_structure.getWarnings();	
	}
	
	function ShowRamachandran(elementID)
	{
		var element = document.getElementById(elementID);
		element.style.display = "block";
		
		var height = 400;
		var width = 400;
		
		element.height = height;
		
		var my_charter = new BioCharter(my_structure,window,document,element,height,width);
		//myviewer.createRamachandran(structure.groups);
		var targets = my_viewer.getSelectedGroups();
		if(targets.length == 0)
		{
			my_charter.createRamachandran(my_structure.groups);
		}
		else
		{
			my_charter.createRamachandran(targets);
		}
	}
    </script>
</head>
<body>
  <div data-collapse="medium" data-animation="default" data-duration="400" class="navbar w-nav">
    <div class="w-container"><a href="#" class="brand w-nav-brand"><img src="images/LabLogo.png" width="50" srcset="images/LabLogo-p-500.png 500w, images/LabLogo.png 775w" sizes="(max-width: 767px) 98vw, (max-width: 991px) 95vw, 940px" class="brand"></a>
      <nav role="navigation" class="nav-menu w-nav-menu"><a href="index.html" class="navlink home w-nav-link">Home</a><a href="#Design" class="navlink viper w-nav-link"><span>VIPER</span></a><a href="#contact" class="navlink software w-nav-link">About Us</a></nav>
      <div class="w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <section id="Home" class="section main">
    <div class="w-container"><img src="images/ViperLogo4.png" width="658" srcset="images/ViperLogo4-p-800.png 800w, images/ViperLogo4-p-1080.png 1080w, images/ViperLogo4-p-1600.png 1600w, images/ViperLogo4-p-2000.png 2000w, images/ViperLogo4.png 2212w" sizes="(max-width: 767px) 100vw, 658px" class="image-4">
      <div class="division-home"></div>
    </div>
  </section>
  <section id="Design" class="section-white main steps">
    <div class="w-container">
      <div class="w-row">
        <div class="w-form">
          <form id="wf-form-CustomUpload" name="wf-form-CustomUpload" data-name="CustomUpload" method="post" action="FileUploadServlet" enctype="multipart/form-data">
            <div class="w-col w-col-4">
              <h4 class="step-title analyzer">1. Load Structure</h4>
            </div>
            <div class="w-col w-col-4">
              <div class="container--cc">
                <div class="html-embed pdbbutton analyzer w-embed"><label class="PDBButton" id="pdb-local" name="file"><input
                  type="file" accept=".pdb" id="inputfile" name="file" style="display:none" onchange="onUpload(this.files[0])">
                  Local PDB File</label>
                </div>
                <div class="text-block-2 analyzer">(<strong>PROTEIN</strong>Â in a <strong>PDB</strong> format)</div>
              </div>
            </div>
            <div class="w-col w-col-4">
              <div class="container--cc">
                <input type="text" class="pdbbutton analyzer w-input" name="PDBrcsb" maxlength="4" onchange="rcsbUpload(this)"
                  data-name="PDBrcsb" pattern="[A-Za-z0-9]{4}$" placeholder="Load PDB (RCSB)" id="PDBrcsb">
                <div class="text-block-2 analyzer">4-letter code (e.g. 1thf)</div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="w-row">
        <div class="w-col w-col-8">
          <div id="viewer" class="viewer"></div>
        </div>
        <div class="w-col w-col-4">
          <div id="residueSelector" class="dropdown dropdown-tree"></div>
        </div>
        <script>
       		my_selector_element  = $("#residueSelector");
        </script>
      </div>
      <div class="w-clearfix">
        <h4 class="step-title analyzer options">General Info</h4><a href="#" id="warning" whenclicked="ShowStructuralWarnings('JmolBlock')" class="submit-button options warnings w-button">Structural Warnings</a><a href="#" id="peptide" class="submit-button options w-button">show Peptide</a><a href="#" id="ptm" class="submit-button options w-button">list / show<br>PTM</a><a href="#" id="hetatm" class="submit-button options w-button">list / show Hetatms</a><a href="#" id="sasa" whenclicked="ShowExposure('JmolBlock')" class="submit-button options w-button">SASA Profile</a><a href="#" id="interaction" whenclicked="ShowContacts('JmolBlock')" class="submit-button options w-button">Contact Profile</a><a href="#" id="bfactor" whenclicked="ShowBfactor('JmolBlock')" class="submit-button options w-button">B-factor Profile</a><a href="#" id="phipsi" class="submit-button options w-button" whenclicked="ShowRamachandran('JmolBlock')">PHI-PSI Profile</a><a href="#" id="water" class="submit-button options w-button">Water Profile</a></div>
      <div id="JmolBlock" class="hiddenblock"></div>
      <div class="w-clearfix">
        <h4 class="step-title analyzer options">Structure Manipulations</h4><a href="#" id="clean" class="submit-button options w-button">Clean structure</a><a href="#" id="split" class="submit-button options w-button">Split Protein</a><a href="#" id="addh" class="submit-button options w-button">Add hydrogens</a><a href="#" id="repair" class="submit-button options w-button">Repair Missing</a><a href="#" id="phoenixrename" class="submit-button options w-button">Phoenix names</a></div>
      <div id="StructureManipulations" class="hiddenblock"></div>
      <div class="w-clearfix">
        <h4 class="step-title analyzer options">PHOENIX Manipulations (Use the residue selector above)</h4><a href="#" id="charges" class="submit-button options w-button">get PARSE charges</a><a href="#" id="pdbinfo" class="submit-button options w-button">get PDBinfo</a><a href="#" id="resclass" class="submit-button options w-button">get resclass</a><a href="#" id="closeRes" class="submit-button options w-button">Nearby Residues</a></div>
      <div id="PhoenixManipulations" class="hiddenblock"></div>
      <div class="w-clearfix">
        <h4 class="step-title analyzer options">General Figures (Use the residue selector above)</h4><a href="#" id="bfactorGraph" class="submit-button options w-button">B-factor<br>Graph</a><a href="#" id="sasaGraph" class="submit-button options w-button">Sasa<br>Graph</a><a href="#" id="phipsiGraph" class="submit-button options w-button">Phi-Psi Graph</a><a href="#" id="waterGraph" class="submit-button options w-button">water Graph</a><a href="#" id="interactionGraph" class="submit-button options w-button">Contact Graph</a><a href="#" id="motif" class="submit-button options motif w-button">Recognition Motif</a><a href="#" id="array" class="submit-button options w-button">Peptide Array</a></div>
      <div id="GeneralFigures" class="hiddenblock"></div>
    </div>
  </section>
  <section id="contact" class="section contactus">
    <div class="w-container">
      <div class="w-form">
        <form id="email-form-7" name="email-form-7" data-name="Email Form 7" method="post" action="SendEmailServlet">
          <h2 id="ContactUSSection" class="contact">Contact Us</h2>
          <div class="w-row">
            <div class="column-14 w-col w-col-6">
              <div class="row-7 w-row">
                <div class="w-col w-col-6"><label for="YourName" class="formlabel">Name:</label><input type="text" class="text-field-2 w-input" maxlength="256" name="YourName" data-name="YourName" placeholder="Enter your name" id="YourName" required=""></div>
                <div class="w-col w-col-6"><label for="YourEmail" class="formlabel">Email Address:</label><input type="email" class="text-field w-input" maxlength="256" name="YourEmail" data-name="YourEmail" placeholder="Enter your email address" id="YourEmail" required=""></div>
              </div><label for="YourMessage" class="formlabel">Message:</label><textarea id="YourMessage" name="YourMessage" maxlength="5000" placeholder="Message" data-name="YourMessage" required="" class="textarea w-input"></textarea>
              <div class="w-row">
                <div class="w-col w-col-9">
                  <p class="contatct-us-paragraph">Please report any bugs and submit questions and comments using the form above.</p>
                </div>
                <div class="w-col w-col-3"><input type="submit" value="Send" data-wait="Please wait..." id="ContactSubmitBtn" class="centerbutton larger bigger contactusbtn w-button"></div>
              </div>
            </div>
            <div class="column w-col w-col-6">
              <h4 class="labheader">About Us</h4>
              <p class="paragraph-5"><a href="https://mysite.science.uottawa.ca/rchica/index.html" target="_blank" class="link tochicalab">The Chica Lab @ University of Ottawa</a></p>
              <div class="w-row">
                <div class="w-col w-col-11">
                  <p class="contatct-us-paragraph">Olivier Gagnon<br>M. Sc. Chemistry &amp; Biomolecular Sciences<br>University of Ottawa (2016-2017)</p>
                </div>
                <div class="w-col w-col-1"></div>
              </div>
              <div class="w-row">
                <div class="w-col w-col-11">
                  <p class="contatct-us-paragraph">Roberto A. Chica<br>Associate Professor<br>Department of Chemistry and Biomolecular Sciences, University of Ottawa</p>
                </div>
                <div class="w-col w-col-1"></div>
              </div>
            </div>
          </div>
        </form>
        <div class="w-form-done">
          <div>Thank you! Your submission has been received!</div>
        </div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form</div>
        </div>
      </div>
    </div>
  </section>
  <div class="footer">
    <div class="w-container">
      <div>
        <div class="w-row">
          <div class="w-clearfix w-col w-col-10">
            <p class="rightsreserved"><span class="viperspan">VIPER </span>Â©2017 R. A. CHICA, O. GAGNON ALL RIGHTS RESERVED</p>
          </div>
          <div class="w-clearfix w-col w-col-2"><img src="images/University_of_Ottawa_Logo.png" width="77" height="50" srcset="images/University_of_Ottawa_Logo-p-500.png 500w, images/University_of_Ottawa_Logo-p-800.png 800w, images/University_of_Ottawa_Logo-p-1080.png 1080w, images/University_of_Ottawa_Logo.png 1164w" sizes="80px" class="image-13"></div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>